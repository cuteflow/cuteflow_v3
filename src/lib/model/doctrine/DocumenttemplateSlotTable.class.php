<?php
/**
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class DocumentTemplateSlotTable extends Doctrine_Table {

        /**
     * create new instance of FormTemplate
     * @return object FormTemplate
     */
    public static function instance() {
        return Doctrine::getTable('DocumentTemplateSlot');
    }


    /**
     * Get all Slots by Template id
     * @param int $id
     * @return Doctrine_Collection
     */
    public function getSlotByDocumentTemplateId($id) {
        return Doctrine_Query::create()
            ->from('DocumentTemplateSlot dts')
            ->where('dts.document_template_version_id = ?', $id)
            ->orderBy('dts.position asc')
            ->execute();
    }

    /**
     * Get Slot by its id
     * @param int $slot_id, slotid
     * @return Doctrine_Collection
     */
    public function getSlotById($slot_id) {
        return Doctrine_Query::create()
            ->from('DocumentTemplateSlot dts')
            ->where('dts.id = ?', $slot_id)
            ->execute();
    }


    public function getSlotByWorkflowSlotId($workflow_slot_id) {
        return Doctrine_Query::create()
            ->from('DocumentTemplateSlot dts')
            ->leftJoin('dts.WorkflowSlot wfs')
            ->where('wfs.id = ?', $workflow_slot_id)
            ->execute();
        

    }

}